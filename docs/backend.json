
{
  "entities": {
    "Order": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Order",
      "type": "object",
      "description": "Represents a customer order for wedding services.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the order."
        },
        "fullName": {
          "type": "string",
          "description": "Full name of the customer placing the order."
        },
        "phoneNumber": {
          "type": "string",
          "description": "Phone number of the customer."
        },
        "email": {
          "type": "string",
          "description": "Email address of the customer.",
          "format": "email"
        },
        "weddingDate": {
          "type": "string",
          "description": "Date of the wedding event.",
          "format": "date-time"
        },
        "selectedServiceId": {
          "type": "string",
          "description": "Reference to the Service ordered. (Relationship: Service 1:N Order)"
        },
        "messageNotes": {
          "type": "string",
          "description": "Additional notes or instructions from the customer."
        },
        "orderDate": {
          "type": "string",
          "description": "Date and time when the order was placed.",
          "format": "date-time"
        },
        "status": {
          "type": "string",
          "description": "Current status of the order (e.g., Pending, Paid, In Progress, Delivered)."
        },
        "paymentStatus": {
          "type": "string",
          "description": "Payment status of the order (e.g., Pending, Paid)."
        },
        "paymentMethod": {
          "type": "string",
          "description": "Method of payment used for the order (e.g., UPI, Google Pay)."
        },
        "couponCode": {
          "type": "string",
          "description": "The coupon code applied to the order, if any."
        },
        "discountAmount": {
            "type": "number",
            "description": "The amount discounted from the order, if any."
        },
        "totalPrice": {
            "type": "number",
            "description": "The final price of the order after discounts."
        }
      },
      "required": [
        "id",
        "fullName",
        "phoneNumber",
        "email",
        "weddingDate",
        "selectedServiceId",
        "orderDate",
        "status",
        "paymentStatus"
      ]
    },
    "Service": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Service",
      "type": "object",
      "description": "Represents a wedding service offered by ApnaBandhan.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the service."
        },
        "name": {
          "type": "string",
          "description": "Name of the service (e.g., Wedding Invitation Video)."
        },
        "description": {
          "type": "string",
          "description": "Detailed description of the service."
        },
        "price": {
          "type": "number",
          "description": "Starting or fixed price of the service."
        },
        "deliveryTimeline": {
          "type": "string",
          "description": "Estimated delivery timeline for the service."
        },
        "samplePreviewUrl": {
          "type": "string",
          "description": "URL of a sample preview image or video for the service.",
          "format": "uri"
        },
        "category": {
          "type": "string",
          "description": "Category of the service (e.g., Invitation Videos, Invitation Cards)."
        }
      },
      "required": [
        "id",
        "name",
        "description",
        "price",
        "deliveryTimeline",
        "samplePreviewUrl",
        "category"
      ]
    },
    "ComboPackage": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ComboPackage",
      "type": "object",
      "description": "Represents a combination of wedding services offered as a package.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the combo package."
        },
        "name": {
          "type": "string",
          "description": "Name of the combo package (e.g., Card + Invitation Video)."
        },
        "description": {
          "type": "string",
          "description": "Detailed description of the combo package."
        },
        "price": {
          "type": "number",
          "description": "Price of the combo package."
        },
        "serviceIds": {
          "type": "array",
          "description": "References to Services included in the combo package. (Relationship: ComboPackage N:N Service)",
          "items": {
            "type": "string"
          }
        },
        "highlight": {
          "type": "string",
          "description": "Highlight of the package."
        }
      },
      "required": [
        "id",
        "name",
        "description",
        "price",
        "serviceIds"
      ]
    },
    "Media": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Media",
      "type": "object",
      "description": "Represents uploaded media files (images or videos) used for samples, albums, or other purposes.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the media file."
        },
        "url": {
          "type": "string",
          "description": "URL of the stored media file.",
          "format": "uri"
        },
        "type": {
          "type": "string",
          "description": "Type of media (e.g., image, video)."
        },
        "uploadDate": {
          "type": "string",
          "description": "Date and time when the media file was uploaded.",
          "format": "date-time"
        },
        "serviceId": {
          "type": "string",
          "description": "Reference to the Service that uses this media. (Relationship: Service 1:N Media)"
        }
      },
      "required": [
        "id",
        "url",
        "type",
        "uploadDate"
      ]
    },
    "Notification": {
      "title": "Notification",
      "type": "object",
      "description": "Represents a notification for a user.",
      "properties": {
        "id": { "type": "string" },
        "title": { "type": "string" },
        "description": { "type": "string" },
        "date": { "type": "string", "format": "date-time" },
        "read": { "type": "boolean" },
        "type": { "type": "string", "enum": ["order", "offer", "general"] }
      },
      "required": ["id", "title", "description", "date", "read", "type"]
    },
    "DownloadableProduct": {
      "title": "DownloadableProduct",
      "type": "object",
      "description": "Represents a final product ready for download by the user.",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "type": { "type": "string", "enum": ["Image", "Video"] },
        "deliveryDate": { "type": "string", "format": "date-time" },
        "downloadUrl": { "type": "string", "format": "uri" },
        "orderId": { "type": "string" }
      },
      "required": ["id", "name", "type", "deliveryDate", "downloadUrl", "orderId"]
    },
    "Coupon": {
      "title": "Coupon",
      "type": "object",
      "description": "Represents a discount coupon for services.",
      "properties": {
        "id": { "type": "string" },
        "code": { "type": "string" },
        "discountType": { "type": "string", "enum": ["percentage", "fixed"] },
        "discountValue": { "type": "number" },
        "expiryDate": { "type": "string", "format": "date-time" },
        "maxUses": { "type": "number" },
        "currentUses": { "type": "number" },
        "isActive": { "type": "boolean" },
        "createdAt": { "type": "string", "format": "date-time" }
      },
      "required": ["id", "code", "discountType", "discountValue", "expiryDate", "isActive", "createdAt"]
    },
    "AppSettings": {
        "title": "AppSettings",
        "type": "object",
        "description": "Global settings for the application.",
        "properties": {
            "downloadAppLink": { "type": "string", "format": "uri" },
            "aiCustomInstructions": { "type": "string" }
        }
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/services/{serviceId}",
        "definition": {
          "entityName": "Service",
          "schema": { "$ref": "#/backend/entities/Service" },
          "description": "Stores wedding services offered by ApnaBandhan."
        }
      },
      {
        "path": "/comboPackages/{comboPackageId}",
        "definition": {
          "entityName": "ComboPackage",
          "schema": { "$ref": "#/backend/entities/ComboPackage" },
          "description": "Stores combo packages that combine multiple services."
        }
      },
      {
        "path": "/media/{mediaId}",
        "definition": {
          "entityName": "Media",
          "schema": { "$ref": "#/backend/entities/Media" },
          "description": "Stores media files used for samples."
        }
      },
      {
        "path": "/orders/{orderId}",
        "definition": {
          "entityName": "Order",
          "schema": { "$ref": "#/backend/entities/Order" },
          "description": "Stores customer orders for wedding services."
        }
      },
      {
          "path": "/users/{userId}/notifications/{notificationId}",
          "definition": {
              "entityName": "Notification",
              "schema": { "$ref": "#/backend/entities/Notification"},
              "description": "Stores notifications for a specific user."
          }
      },
      {
          "path": "/users/{userId}/downloadableProducts/{productId}",
          "definition": {
              "entityName": "DownloadableProduct",
              "schema": {"$ref": "#/backend/entities/DownloadableProduct"},
              "description": "Stores products available for download for a specific user."
          }
      },
      {
        "path": "/coupons/{couponId}",
        "definition": {
          "entityName": "Coupon",
          "schema": { "$ref": "#/backend/entities/Coupon"},
          "description": "Stores discount coupons for the application."
        }
      },
      {
        "path": "/app-settings/{settingId}",
        "definition": {
          "entityName": "AppSettings",
          "schema": { "$ref": "#/backend/entities/AppSettings"},
          "description": "Stores global settings for the application."
        }
      }
    ]
  }
}
